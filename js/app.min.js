(()=>{"use strict";window.initMap=function(){const e={lat:54.355249,lng:48.354524},t=new google.maps.Map(document.getElementById("map"),{zoom:17,center:e});new google.maps.Marker({position:e,map:t,icon:"../img/map.png"})},new Swiper(".swiper.main__swiper",{direction:"horizontal",loop:!0,pagination:{el:".swiper-pagination",clickable:!0},navigation:{nextEl:".next",prevEl:".swiper-button-prev"}}),new Swiper(".swiper.blog__swiper",{pagination:{el:".blog__pagination",type:"fraction"},breakpoints:{0:{slidesPerView:1.2,spaceBetween:20},767:{spaceBetween:20,slidesPerView:2},992:{spaceBetween:40,slidesPerView:2}},navigation:{nextEl:".blog__next",prevEl:".blog__prev"},slidesPerView:2});const e=document.querySelector(".header__burger"),t=document.querySelector(".header__burgmenu"),n=document.querySelector("body");e.addEventListener("click",(function(){n.classList.toggle("lock"),t.classList.toggle("active"),e.classList.toggle("active")}));const o=document.querySelector(".search__btn_mob"),i=document.querySelector(".search__input");o.addEventListener("click",(function(e){e.preventDefault(),i.classList.toggle("active")}));const r=document.querySelector(".popup"),a=document.querySelectorAll(".header__btn"),s=document.querySelector(".popup__close");window.onload=function(){a.forEach((e=>{e.addEventListener("click",(function(){r.classList.add("popup__active")}))})),s.addEventListener("click",(function(){r.classList.remove("popup__active")})),document.addEventListener("click",(function(e){const t=e.target;t.closest(".popup__main")||t.closest(".header__btn")||r.classList.remove("popup__active")}))};const c=document.forms.form,l=Array.from(c),u=[],d=c.elements.button;l.forEach((e=>{e.hasAttribute("data-reg")&&(e.setAttribute("is-valid","0"),u.push(e))})),c.addEventListener("input",(function({target:e}){e.hasAttribute("data-reg")&&function(e){const t=e.value,n=e.getAttribute("data-reg");new RegExp(n).test(t)?(e.setAttribute("is-valid","1"),e.style.borderBottom="1px solid #2CA2D0"):(e.setAttribute("is-valid","0"),e.style.borderBottom="1px solid #EB5757")}(e)})),d.addEventListener("click",(function(e){const t=[];u.forEach((e=>{t.push(e.getAttribute("is-valid"))}));const n=t.reduce(((e,t)=>e&&t));Boolean(Number(n))||(console.log("errror"),e.preventDefault())})),window.addEventListener("DOMContentLoaded",(function(){[].forEach.call(document.querySelectorAll(".tel"),(function(e){var t;function n(e){e.keyCode&&(t=e.keyCode),this.selectionStart<3&&e.preventDefault();var n="+7 (___) ___ ____",o=0,i=n.replace(/\D/g,""),r=this.value.replace(/\D/g,""),a=n.replace(/[_\d]/g,(function(e){return o<r.length?r.charAt(o++)||i.charAt(o):e}));-1!=(o=a.indexOf("_"))&&(o<5&&(o=3),a=a.slice(0,o));var s=n.substr(0,this.value.length).replace(/_+/g,(function(e){return"\\d{1,"+e.length+"}"})).replace(/[+()]/g,"\\$&");(!(s=new RegExp("^"+s+"$")).test(this.value)||this.value.length<5||t>47&&t<58)&&(this.value=a),"blur"==e.type&&this.value.length<5&&(this.value="")}e.addEventListener("input",n,!1),e.addEventListener("focus",n,!1),e.addEventListener("blur",n,!1),e.addEventListener("keydown",n,!1)}))}))})();